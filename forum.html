<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile Page</title>
    <!-- bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
    <link rel="shortcut icon" type="image/png" href="img/paint.png" />
  </head>
  
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <!-- navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        <a class="navbar-brand" href="index1.html">Creators Corner</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="index1.html"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="Posting.html">Posting</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="forum.html">Forum</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="analytics.html">Analytics</a>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbarDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Socials
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li>
                  <a class="dropdown-item" href="twitter.html">Twitter</a>
                </li>
                <li>
                  <a class="dropdown-item" href="instagram.html">Instagram</a>
                </li>
                <li>
                  <a class="dropdown-item" href="facebook.html">Facebook</a>
                </li>
                <li><a class="dropdown-item" href="tiktok.html">Tik Tok</a></li>
              </ul>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index.html">Logout</a>
            </li>
          </ul>
          <form class="d-flex">
            <input
              class="form-control me-2"
              type="search"
              placeholder="Search"
              aria-label="Search"
            />
            <button class="btn btn-outline-success" type="submit">
              Search
            </button>
          </form>
        </div>
      </div>
    </nav>

    <!-- side bars -->
    <div class="b-example-divider"></div>

    <div class="flex-shrink-0 p-3 bg-white" style="width: 200px">
      <a
        href="/"
        class="
          d-flex
          align-items-center
          pb-3
          mb-3
          link-dark
          text-decoration-none
          border-bottom
        "
      >
        <svg class="bi me-2" width="30" height="24">
          <use xlink:href="#bootstrap" />
        </svg>
        <span class="fs-5 fw-semibold">Forum</span>
      </a>
      <ul class="list-unstyled ps-0">
        <li class="mb-1">
          <button
            class="btn btn-toggle align-items-center rounded collapsed"
            data-bs-toggle="collapse"
            data-bs-target="#home-collapse"
            aria-expanded="true"
          >
            Welcome
          </button>
          <div class="collapse show" id="home-collapse">
            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
              <li><a href="#" class="link-dark rounded">Welcome Letter</a></li>
              <li><a href="#" class="link-dark rounded">Rules&Regs</a></li>
            </ul>
          </div>
        </li>
        <li class="mb-1">
          <button
            class="btn btn-toggle align-items-center rounded collapsed"
            data-bs-toggle="collapse"
            data-bs-target="#dashboard-collapse"
            aria-expanded="false"
          >
            Announcements
          </button>
          <div class="collapse" id="dashboard-collapse">
            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
              <li><a href="#" class="link-dark rounded">News</a></li>
              <li><a href="#" class="link-dark rounded">Old News</a></li>
              <li><a href="#" class="link-dark rounded">New Features</a></li>
            </ul>
          </div>
        </li>
        <li class="mb-1">
          <button
            class="btn btn-toggle align-items-center rounded collapsed"
            data-bs-toggle="collapse"
            data-bs-target="#orders-collapse"
            aria-expanded="false"
          >
            Terms & Conditions
          </button>
          <div class="collapse" id="orders-collapse">
            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
              <li>
                <a href="#" class="link-dark rounded">Terms & Conditions</a>
              </li>
            </ul>
          </div>
        </li>
        <li class="border-top my-3"></li>
        <li class="mb-1">
          <button
            class="btn btn-toggle align-items-center rounded collapsed"
            data-bs-toggle="collapse"
            data-bs-target="#orders-collapse"
            aria-expanded="false"
          >
            Suggestions
          </button>
          <div class="collapse" id="orders-collapse">
            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
              <li>
                <a href="#" class="link-dark rounded">Suggestions</a>
              </li>
            </ul>
          </div>
        </li>
        <li class="border-top my-3"></li>
        <li class="mb-1">
          <button
            class="btn btn-toggle align-items-center rounded collapsed"
            data-bs-toggle="collapse"
            data-bs-target="#account-collapse"
            aria-expanded="false"
          >
            Account
          </button>
          <div class="collapse" id="account-collapse">
            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
              <li><a href="#" class="link-dark rounded">New...</a></li>
              <li><a href="#" class="link-dark rounded">Profile</a></li>
              <li><a href="#" class="link-dark rounded">Settings</a></li>
              <li><a href="#" class="link-dark rounded">Sign out</a></li>
            </ul>
          </div>
        </li>
      </ul>
    </div>
    <!-- forum -->
    <div class="top-bar">
      <h1>
          My Forum
      </h1>
  </div>
  <div class="main">
      <ol>
      </ol>
  </div>
  <script src="script.js"></script>
  <script>
      console.log(threads);
      var container = document.querySelector('ol');
      for (let thread of threads) {
          var html = `
          <li class="row">
              <a href="/thread.html?${thread.id}">
                  <h4 class="title">
                      ${thread.title}
                  </h4>
                  <div class="bottom">
                      <p class="timestamp">
                          ${new Date(thread.date).toLocaleString()}
                      </p>
                      <p class="comment-count">
                          ${thread.comments.length} comments
                      </p>
                  </div>
              </a>
          </li>
          `
          container.insertAdjacentHTML('beforeend', html);
      }
  </script>
  <style>
      body {
          margin: 10px 60px;
      }
      a {
          text-decoration: none;
          color: black;
      }
      h1, h4, ol {
          margin: 0;
      }
      p {
          margin: 5px 0;
      }
      .top-bar {
          background-color: skyblue;
          padding: 0 40px;
      }
      .main {
          background-color: #F6F6EF;
          padding: 10px 15px;
      }
      .row {
          padding: 5px 0;
      }
      .bottom {
          display: flex;
          color: grey;
          font-size: 12px;
      }
      .timestamp {
          padding-right: 10px;
      }
  </style>
  <!-- coments 2 -->
  <div class="main">
    <div class="header">
    </div>
    <textarea></textarea>
    <button>add comment</button>
    <div class="comments">
    </div>
</div>
<script src="script.js"></script>
<script>
    var id = window.location.search.slice(1);
    var thread = threads.find(t => t.id == id);
    var header = document.querySelector('.header');
    var headerHtml = `
        <h4 class="title">
            ${thread.title}
        </h4>
        <div class="bottom">
            <p class="timestamp">
                ${new Date(thread.date).toLocaleString()}
            </p>
            <p class="comment-count">
                ${thread.comments.length} comments
            </p>
        </div>
    `
    header.insertAdjacentHTML('beforeend', headerHtml)

    function addComment(comment) {
        var commentHtml = `
            <div class="comment">
                <div class="top-comment">
                    <p class="user">
                        ${comment.author}
                    </p>
                    <p class="comment-ts">
                        ${new Date(comment.date).toLocaleString()}
                    </p>
                </div>
                <div class="comment-content">
                    ${comment.content}
                </div>
            </div>
        `
        comments.insertAdjacentHTML('beforeend', commentHtml);
    }

    var comments = document.querySelector('.comments');
    for (let comment of thread.comments) {
        addComment(comment);
    }

    var btn = document.querySelector('button');
    btn.addEventListener('click', function() {
        var txt = document.querySelector('textarea');
        var comment = {
            content: txt.value,
            date: Date.now(),
            author: 'Aaron'
        }
        addComment(comment);
        txt.value = '';
        thread.comments.push(comment);
        localStorage.setItem('threads', JSON.stringify(threads));
    })
</script>
<style>
    body {
        margin: 10px 60px;
    }
    a {
        text-decoration: none;
        color: black;
    }
    h1, h4, ol {
        margin: 0;
    }
    p {
        margin: 5px 0;
    }
    textarea {
        width: 80%;
        height: 80px;
    }
    button {
        display: block;
        margin: 10px 0;
    }
    .top-bar {
        background-color: skyblue;
        padding: 0 40px;
    }
    .main {
        background-color: #F6F6EF;
        padding: 10px 40px;
    }
    .comments {
        margin: 40px 0;
    }
    .comment {
        margin: 10px 0;
    }
    .row {
        padding: 5px 0;
    }
    .bottom, .top-comment {
        display: flex;
        color: grey;
        font-size: 12px;
    }
    .timestamp {
        padding-right: 10px;
    }
    .comment-ts {
        padding-left: 10px;
    }
</style>
  
  </body>
</html>
